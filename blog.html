<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClubJets MX - Blog</title>
    <link rel="icon" href="images/favicon.png" type="image/png">
    
    <!-- Base Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ClubJets MX">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ClubJets MX Logo">
    
    <!-- Page-Specific Open Graph Meta Tags -->
    <meta property="og:url" content="https://clubjetsmx.com/blog.html">
    <meta property="og:title" content="ClubJets MX - Latest News">
    <meta property="og:description" content="Stay up to date with the latest events, news, and exclusive content from ClubJets MX.">
    <meta property="og:image" content="https://clubjetsmx.com/images/clubjetsmx.png">
    
    <!-- Base Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@clubjetsmx">
    <meta name="twitter:image:alt" content="ClubJets MX Logo">
    
    <!-- Page-Specific Twitter Card Meta Tags -->
    <meta name="twitter:title" content="ClubJets MX - Latest News">
    <meta name="twitter:description" content="Stay up to date with the latest events, news, and exclusive content from ClubJets MX.">
    <meta name="twitter:image" content="https://clubjetsmx.com/images/clubjetsmx.png">
    
    <!-- Additional Meta Tags -->
    <meta name="description" content="Stay up to date with the latest events, news, and exclusive content from ClubJets MX.">
    <meta name="robots" content="index, follow">
    <meta name="author" content="ClubJets MX">
    
    <script src="particles.js" defer></script>
    <style>
        @font-face {
            font-family: 'Kiona';
            src: url('Kiona-Regular.ttf') format('truetype');
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(-45deg, #000000, #0a0a0a, #050505, #000000);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            width: 100%;
            overflow-x: hidden;
            padding-top: 0;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .nav-menu {
            position: static;
            width: 100%;
            background-color: transparent;
            padding: 1rem 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 169px;
        }

        .nav-logo {
            height: 180px;
            width: auto;
            object-fit: contain;
            pointer-events: none;
            position: relative;
            z-index: 0;
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-grow: 1;
            margin-right: 169px;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-family: 'Kiona', Arial, sans-serif;
            font-size: 2rem;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 1rem;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: #ff0000;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }

        .nav-link:hover::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        .nav-link:hover {
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000,
                         0 0 10px #ff0000;
        }

        .neon-text {
            font-family: 'Kiona', Arial, sans-serif;
            color: #fff;
            font-size: 4.8rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #ff0000,
                         0 0 30px #ff0000,
                         0 0 40px #ff0000,
                         0 0 50px #ff0000,
                         0 0 60px #ff0000;
            animation: neon 1.5s ease-in-out infinite alternate;
            margin: 0.1rem 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .neon-text:hover {
            transform: scale(1.05);
            text-shadow: 0 0 10px #fff,
                         0 0 20px #fff,
                         0 0 30px #ff0000,
                         0 0 40px #ff0000,
                         0 0 50px #ff0000,
                         0 0 60px #ff0000,
                         0 0 70px #ff0000;
        }

        .neon-text-blue {
            font-family: 'Kiona', Arial, sans-serif;
            color: #fff;
            font-size: 2.4rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 0.1rem;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #00ffff,
                         0 0 30px #00ffff,
                         0 0 40px #00ffff,
                         0 0 50px #00ffff;
            animation: neon-blue 1.5s ease-in-out infinite alternate;
            transition: all 0.3s ease;
        }

        .neon-text-blue:hover {
            transform: scale(1.05);
            text-shadow: 0 0 10px #fff,
                         0 0 20px #fff,
                         0 0 30px #00ffff,
                         0 0 40px #00ffff,
                         0 0 50px #00ffff,
                         0 0 60px #00ffff;
        }

        @keyframes neon {
            from {
                text-shadow: 0 0 5px #fff,
                            0 0 10px #fff,
                            0 0 20px #ff0000,
                            0 0 30px #ff0000,
                            0 0 40px #ff0000;
            }
            to {
                text-shadow: 0 0 2.5px #fff,
                            0 0 5px #fff,
                            0 0 10px #ff0000,
                            0 0 15px #ff0000,
                            0 0 20px #ff0000;
            }
        }

        @keyframes neon-blue {
            from {
                text-shadow: 0 0 5px #fff,
                            0 0 10px #fff,
                            0 0 20px #00ffff,
                            0 0 30px #00ffff,
                            0 0 40px #00ffff;
            }
            to {
                text-shadow: 0 0 2.5px #fff,
                            0 0 5px #fff,
                            0 0 10px #00ffff,
                            0 0 15px #00ffff,
                            0 0 20px #00ffff;
            }
        }

        .language-toggle-container {
            position: fixed;
            top: 0;
            right: 0;
            background-color: transparent;
            z-index: 1100;
            padding-top: 5px;
            width: auto;
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .language-toggle {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #ff0000;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Kiona', Arial, sans-serif;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .language-toggle:hover {
            background: rgba(255, 0, 0, 0.2);
            box-shadow: 0 0 10px #ff0000;
        }

        /* Remove the globe emoji */
        .language-toggle::before {
            display: none;
        }

        /* Footer Styles */
        footer {
            width: 100%;
            background-color: transparent;
            color: white;
            text-align: center;
            padding: 1rem 0;
            font-family: 'Kiona', Arial, sans-serif;
            position: relative;
            margin-top: auto;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
                rgba(0, 0, 0, 0) 0%,
                rgba(0, 0, 0, 0.3) 50%,
                rgba(0, 0, 0, 0.6) 100%);
            z-index: -1;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .footer-address {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-address:hover {
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000;
        }

        .footer-contact {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .footer-contact:hover {
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000;
        }

        /* Add media query for mobile devices */
        @media screen and (max-width: 768px) {
            body {
                padding-top: 0;
            }

            .nav-menu {
                height: auto;
                padding: 0.5rem 0;
                margin-top: 20px;
                position: relative;
                z-index: 10;
                flex-direction: column;
                align-items: center;
            }

            .nav-logo {
                height: 140px;
                margin: 0;
            }

            .nav-links {
                gap: 0.5rem;
                justify-content: center;
                flex-wrap: wrap;
                margin: 0.5rem 0;
                padding: 0 1rem;
                margin-right: 0;
            }
            
            .nav-link {
                font-size: 1.2rem;
                padding: 0.25rem 0.5rem;
            }

            .neon-text {
                font-size: 3.6rem;
                margin: 0.05rem 0;
            }

            .neon-text-blue {
                font-size: 1.8rem;
                margin-bottom: 0.05rem;
            }

            .blog-title {
                font-size: 2.4rem;
                margin: 0.5rem 0;
            }

            .blog-post {
                padding: 1rem;
            }

            .blog-post-title {
                font-size: 1.5rem;
            }

            .blog-post-content {
                font-size: 1rem;
                line-height: 1.5;
            }
        }

        .blog-container {
            width: 100%;
            max-width: 1200px;
            padding: 0 1rem;
            margin-top: 2rem;
            margin-bottom: 2rem;
            flex: 1;
        }

        .blog-title {
            font-family: 'Kiona', Arial, sans-serif;
            color: #fff;
            font-size: 3.6rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #ff0000,
                         0 0 30px #ff0000,
                         0 0 40px #ff0000;
            animation: neon 1.5s ease-in-out infinite alternate;
            margin: 0 0 2rem 0;
        }

        .blog-posts {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .blog-post {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            backdrop-filter: blur(5px);
            position: relative;
        }

        .blog-post-title {
            font-family: 'Kiona', Arial, sans-serif;
            color: #fff;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #ff0000,
                         0 0 30px #ff0000,
                         0 0 40px #ff0000;
            animation: neon-blue 1.5s ease-in-out infinite alternate;
        }

        .blog-post-date {
            color: #ff0000;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .blog-post-image {
            width: 100%;
            max-width: 600px;
            height: auto;
            border-radius: 8px;
            margin: 1rem 0;
        }

        @media screen and (max-width: 768px) {
            .blog-post-image {
                max-width: 100%;
                height: auto;
                margin: 0.5rem 0;
            }
        }

        .blog-post-content {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .blog-post-content a {
            color: #ff0000;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .blog-post-content a:hover {
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000,
                         0 0 10px #ff0000;
        }

        .blog-post-content a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #ff0000;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .blog-post-content a:hover::after {
            opacity: 1;
            box-shadow: 0 0 5px #ff0000;
        }

        .blog-post-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 1rem 0;
        }

        @media screen and (max-width: 768px) {
            .blog-post-content img {
                max-width: 100%;
                height: auto;
                margin: 0.5rem 0;
            }
        }

        .blog-post-content p {
            margin-bottom: 1rem;
        }

        .subscription-section {
            background: transparent;
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
            text-align: center;
        }

        .subscription-title {
            font-family: 'Kiona', Arial, sans-serif;
            color: #fff;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #ff0000,
                         0 0 30px #ff0000,
                         0 0 40px #ff0000;
            animation: neon 1.5s ease-in-out infinite alternate;
        }

        .subscription-section p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .loading-message {
            color: #ff0000;
            font-size: 1.2rem;
            text-align: center;
            padding: 2rem;
        }

        .no-posts, .error-message {
            color: #ff0000;
            font-size: 1.2rem;
            text-align: center;
            padding: 2rem;
            font-family: 'Kiona', Arial, sans-serif;
            text-shadow: 0 0 5px #fff,
                         0 0 10px #fff,
                         0 0 20px #ff0000,
                         0 0 30px #ff0000;
        }

        @media screen and (max-width: 768px) {
            .blog-title {
                font-size: 2.5rem;
            }

            .blog-post {
                padding: 1.5rem;
            }

            .blog-post-title {
                font-size: 1.8rem;
            }

            .blog-post-date {
                font-size: 1rem;
            }

            .blog-post-content {
                font-size: 1rem;
            }

            .subscription-title {
                font-size: 1.8rem;
            }
        }

        .blog-posts-wrapper {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            transition: opacity 0.3s ease;
        }
        
        .loading-message {
            color: #ff0000;
            font-size: 1.2rem;
            text-align: center;
            padding: 2rem;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }
        
        .blog-post {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        
        .blog-post.loading {
            opacity: 0.5;
            transform: scale(0.98);
        }

        .share-buttons {
            display: flex;
            gap: 1.5rem;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 0, 0, 0.2);
        }

        .share-button {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #ff0000;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 0;
            cursor: pointer;
            font-family: 'Kiona', Arial, sans-serif;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.8rem;
            min-width: 100px;
            text-align: center;
        }

        .share-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 0, 0, 0.2),
                transparent
            );
            transition: 0.5s;
        }

        .share-button:hover {
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 0 0 10px #ff0000,
                       0 0 20px rgba(255, 0, 0, 0.5);
            transform: translateY(-2px);
        }

        .share-button:hover::before {
            left: 100%;
        }

        @media screen and (max-width: 768px) {
            .share-buttons {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }
            
            .share-button {
                padding: 0.5rem 1rem;
                font-size: 0.7rem;
                min-width: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="language-toggle-container">
        <button class="language-toggle" onclick="toggleLanguage()">Español</button>
    </div>
    <nav class="nav-menu">
        <a href="index.html"><img src="images/clubjetsmx.png" alt="ClubJets MX" class="nav-logo"></a>
        <div class="nav-links">
            <a href="events.html" class="nav-link">Events</a>
            <a href="blog.html" class="nav-link">Blog</a>
            <a href="our-story.html" class="nav-link">Story</a>
        </div>
    </nav>
    <div class="blog-container">
        <h1 class="blog-title">Blog</h1>
        
        <div class="blog-posts">
            <div id="blog-posts-container">
                <div class="loading-message">Loading blog posts...</div>
            </div>
        </div>

        <!-- Subscription Form Section -->
        <div class="subscription-section">
            <h2 class="subscription-title">Subscribe to Updates</h2>
            <p>Stay up to date with the latest events, news, and exclusive content.</p>
            
            <!-- Ghost Signup Form -->
            <div class="signup-form-container">
                <div style="min-height: 40px;max-width: 280px;margin: 0 auto;width: 100%"><script src="https://cdn.jsdelivr.net/ghost/signup-form@~0.2/umd/signup-form.min.js" data-button-color="#ff0000" data-button-text-color="#FFFFFF" data-site="https://clubjets-mx.ghost.io/" data-locale="en" async></script></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <a href="https://maps.app.goo.gl/1UusCfBkLatMsiLp9" target="_blank" class="footer-address">Basilio Badillo 339, Zona Romántica, Puerto Vallarta</a>
            <a href="mailto:info@clubjetsmx.com" class="footer-contact">Contact Us</a>
        </div>
    </footer>
    
    <script>
        let currentLang = localStorage.getItem('preferredLanguage') || 'en';

        // Function to load translations
        async function loadTranslations() {
            // No longer needed as we're using Google Translate
            return;
        }

        // Initialize language and fetch posts on page load
        document.addEventListener('DOMContentLoaded', async function() {
            // Set initial language from localStorage or default to English
            currentLang = localStorage.getItem('preferredLanguage') || 'en';
            
            // Set the toggle button text based on current language
            const toggleButton = document.querySelector('.language-toggle');
            if (toggleButton) {
                toggleButton.textContent = currentLang === 'en' ? 'Español' : 'English';
            }
            
            // Update UI text first
            updateLanguage();
            
            // Then fetch and display posts
            await fetchBlogPosts();
        });

        // Function to toggle language
        async function toggleLanguage() {
            // Show loading state
            const postsContainer = document.getElementById('blog-posts-container');
            if (postsContainer) {
                postsContainer.innerHTML = `
                    <div class="loading-message">
                        ${currentLang === 'en' ? 'Switching to Spanish...' : 'Cambiando a inglés...'}
                    </div>
                `;
            }

            // Toggle language
            currentLang = currentLang === 'en' ? 'es' : 'en';
            localStorage.setItem('preferredLanguage', currentLang);
            
            // Update toggle button text
            const toggleButton = document.querySelector('.language-toggle');
            if (toggleButton) {
                toggleButton.textContent = currentLang === 'en' ? 'Español' : 'English';
            }
            
            // Update UI text
            updateLanguage();
            
            // Re-fetch posts
            await fetchBlogPosts();
        }

        // Function to update language
        function updateLanguage() {
            // Update navigation
            document.querySelectorAll('.nav-link')[0].textContent = currentLang === 'en' ? 'Events' : 'Eventos';
            document.querySelectorAll('.nav-link')[1].textContent = currentLang === 'en' ? 'Blog' : 'Blog';
            document.querySelectorAll('.nav-link')[2].textContent = currentLang === 'en' ? 'Story' : 'Historia';

            // Update blog title
            document.querySelector('.blog-title').textContent = currentLang === 'en' ? 'Latest News' : 'Últimas Noticias';

            // Update loading message if it exists
            const loadingMessage = document.querySelector('.loading-message');
            if (loadingMessage) {
                loadingMessage.textContent = currentLang === 'en' ? 'Loading blog posts...' : 'Cargando publicaciones del blog...';
            }

            // Update subscription section
            document.querySelector('.subscription-title').textContent = currentLang === 'en' ? 'Subscribe to Updates' : 'Suscribirse';
            document.querySelector('.subscription-section p').textContent = currentLang === 'en' 
                ? 'Stay up to date with the latest events, news, and exclusive content.'
                : 'Mantente al día con los últimos eventos, noticias y contenido exclusivo.';

            // Update footer
            document.querySelector('.footer-contact').textContent = currentLang === 'en' ? 'Contact Us' : 'Contáctanos';
        }

        // Function to format date based on current language
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString(currentLang === 'en' ? 'en-US' : 'es-ES', options);
        }

        // Ghost API configuration
        const ghostApiUrl = 'https://clubjets-mx.ghost.io/ghost/api/content/posts/';
        const ghostApiKey = '83c1031b64852b8df089ace3c3';
        
        // Function to fetch blog posts from Ghost API
        async function fetchBlogPosts() {
            const postsContainer = document.getElementById('blog-posts-container');
            
            try {
                const apiUrl = `${ghostApiUrl}?key=${ghostApiKey}&limit=5&include=tags,authors&formats=html,plaintext`;
                const response = await fetch(apiUrl);
                
                if (!response.ok) {
                    throw new Error(`API response was not ok: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.posts && data.posts.length > 0) {
                    // Create a container for all posts
                    const postsWrapper = document.createElement('div');
                    postsWrapper.className = 'blog-posts-wrapper';
                    
                    // Add posts one by one with loading states
                    for (const post of data.posts) {
                        const postElement = createPostElement(post);
                        postsWrapper.appendChild(postElement);
                    }
                    
                    postsContainer.innerHTML = '';
                    postsContainer.appendChild(postsWrapper);
                } else {
                    postsContainer.innerHTML = `
                        <div class="no-posts">
                            ${currentLang === 'en' ? 'No posts found. Check back soon!' : 'No se encontraron publicaciones. ¡Vuelve pronto!'}
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error fetching blog posts:', error);
                postsContainer.innerHTML = `
                    <div class="error-message">
                        ${currentLang === 'en' ? 'Error loading blog posts. Please try again later.' : 'Error al cargar las publicaciones del blog. Por favor, inténtalo de nuevo más tarde.'}
                    </div>
                `;
            }
        }

        // Function to update Open Graph metadata
        function updateOpenGraphMetadata(post) {
            try {
                // Update title
                const ogTitle = document.querySelector('meta[property="og:title"]');
                const twitterTitle = document.querySelector('meta[name="twitter:title"]');
                if (ogTitle) ogTitle.content = post.title;
                if (twitterTitle) twitterTitle.content = post.title;
                
                // Update description
                const description = post.excerpt || post.meta_description || 'Stay up to date with the latest events, news, and exclusive content from ClubJets MX.';
                const ogDesc = document.querySelector('meta[property="og:description"]');
                const twitterDesc = document.querySelector('meta[name="twitter:description"]');
                if (ogDesc) ogDesc.content = description;
                if (twitterDesc) twitterDesc.content = description;
                
                // Update image
                const imageUrl = post.feature_image || 'https://clubjetsmx.com/images/clubjetsmx.png';
                const ogImage = document.querySelector('meta[property="og:image"]');
                const twitterImage = document.querySelector('meta[name="twitter:image"]');
                if (ogImage) ogImage.content = imageUrl;
                if (twitterImage) twitterImage.content = imageUrl;
                
                // Update URL
                const postUrl = `https://clubjetsmx.com/blog.html?post=${post.slug}`;
                const ogUrl = document.querySelector('meta[property="og:url"]');
                if (ogUrl) ogUrl.content = postUrl;
            } catch (error) {
                console.error('Error updating metadata:', error);
            }
        }

        // Function to create a blog post element
        function createPostElement(post) {
            const postElement = document.createElement('div');
            postElement.className = 'blog-post';
            
            try {
                const postUrl = `https://clubjetsmx.com/blog.html?post=${post.slug}`;
                
                // Update Open Graph metadata for this post
                updateOpenGraphMetadata(post);
                
                // Create post title
                const titleElement = document.createElement('h2');
                titleElement.className = 'blog-post-title';
                titleElement.textContent = post.title;
                
                // Create post date
                const dateElement = document.createElement('div');
                dateElement.className = 'blog-post-date';
                dateElement.textContent = formatDate(post.published_at);
                
                // Create post content
                const contentElement = document.createElement('div');
                contentElement.className = 'blog-post-content';
                contentElement.innerHTML = post.html;
                
                // Add featured image if available
                if (post.feature_image) {
                    const imageElement = document.createElement('img');
                    imageElement.className = 'blog-post-image';
                    imageElement.src = post.feature_image;
                    imageElement.alt = post.title;
                    postElement.appendChild(imageElement);
                }
                
                // Create share buttons
                const shareButtons = document.createElement('div');
                shareButtons.className = 'share-buttons';
                
                // Facebook share button
                const facebookButton = document.createElement('button');
                facebookButton.className = 'share-button';
                facebookButton.textContent = 'Facebook';
                facebookButton.onclick = () => shareOnFacebook(postUrl, post.title);
                
                // Twitter share button
                const twitterButton = document.createElement('button');
                twitterButton.className = 'share-button';
                twitterButton.textContent = 'Twitter';
                twitterButton.onclick = () => shareOnTwitter(postUrl, post.title);
                
                // Copy link button
                const copyButton = document.createElement('button');
                copyButton.className = 'share-button';
                copyButton.textContent = 'Link';
                copyButton.onclick = () => copyToClipboard(postUrl);
                
                shareButtons.appendChild(facebookButton);
                shareButtons.appendChild(twitterButton);
                shareButtons.appendChild(copyButton);
                
                postElement.appendChild(titleElement);
                postElement.appendChild(dateElement);
                postElement.appendChild(contentElement);
                postElement.appendChild(shareButtons);
            } catch (error) {
                console.error('Error creating post element:', error);
                postElement.innerHTML = `
                    <div class="error-message">
                        ${currentLang === 'en' ? 'Error loading post. Please try again later.' : 'Error al cargar la publicación. Por favor, inténtalo de nuevo más tarde.'}
                    </div>
                `;
            }
            
            return postElement;
        }

        // Function to share on Facebook
        function shareOnFacebook(url, title) {
            // Ensure URL is using HTTPS
            const secureUrl = url.startsWith('http://') ? url.replace('http://', 'https://') : url;
            
            // Create a more complete share URL with additional parameters
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(secureUrl)}&quote=${encodeURIComponent(title)}&hashtag=%23ClubJetsMX`;
            
            // Open in a popup window
            const width = 600;
            const height = 400;
            const left = (window.innerWidth - width) / 2;
            const top = (window.innerHeight - height) / 2;
            
            window.open(
                shareUrl,
                'facebook-share-dialog',
                `width=${width},height=${height},left=${left},top=${top},toolbar=0,menubar=0,location=0,status=0`
            );
        }

        // Function to share on Twitter
        function shareOnTwitter(url, title) {
            const shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Function to copy link to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert(currentLang === 'en' ? 'Link copied to clipboard!' : '¡Enlace copiado al portapapeles!');
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }
    </script>
</body>
</html>